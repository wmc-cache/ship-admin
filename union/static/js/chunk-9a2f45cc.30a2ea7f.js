(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a2f45cc"],{"07f4":function(t,e,i){"use strict";i("ff08")},"8e0e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"body"},[i("div",{staticClass:"content"},[i("div",{staticClass:"menu1"},[t._v("数据总览")]),t._v(" "),i("div",{staticClass:"menu2",on:{click:t.goOperation,touchstart:t.goOperation}},[t._v("设备操作")]),t._v(" "),i("div",{staticClass:"menu3",on:{click:t.goIndex,touchstart:t.goIndex}},[t._v("返回")]),t._v(" "),i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[i("div",{staticClass:"text",staticStyle:{"margin-top":"1vh","margin-bottom":"-1vw"}},[t._v("传感器监控系统")]),t._v(" "),i("dv-decoration-5",{staticStyle:{width:"40vw",height:"5vh"}})],1),t._v(" "),i("div",{staticClass:"tip-item"})]),t._v(" "),i("div",{staticClass:"content-middle"},[i("div",{staticClass:"content-left"},[i("div",{staticClass:"left1"},[i("dv-border-box-10",[i("div",{staticClass:"title"},[t._v(t._s(t.fmt(new Date)))])])],1),t._v(" "),i("div",{staticClass:"left2"},[i("dv-border-box-10",[i("pie-chart",{attrs:{"class-name":"pie",height:"23vh",width:"23vw"}})],1)],1)]),t._v(" "),i("div",{staticClass:"middle"},[i("dv-border-box-8",{staticStyle:{padding:"0.5vh"},attrs:{reverse:!0}},[i("div",{staticStyle:{width:"38vw",height:"54vh"},attrs:{id:"container"}})])],1),t._v(" "),i("div",{staticClass:"content-right"},[i("div",{staticClass:"right1"},[i("dv-border-box-10",[i("div",{staticStyle:{width:"25vw",height:"21vh",display:"flex","justify-content":"center","align-items":"center"}},[i("dv-decoration-12",{staticStyle:{width:"150px",height:"150px"}})],1)])],1),t._v(" "),i("div",{staticClass:"right2"},[i("dv-border-box-10",[i("div",{staticClass:"title"},[t._v("操作")]),t._v(" "),i("div",{staticClass:"scroll-data"},[i("dv-scroll-board",{staticStyle:{width:"26vw",height:"30vh"},attrs:{config:t.config}})],1)])],1)])]),t._v(" "),i("div",{staticClass:"bottom"},[i("dv-border-box-10")],1)])])},s=[],a=(i("ac6a"),i("c466")),o=(i("4259"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:{height:t.height,width:t.width}})}),r=[],c=i("313e"),l=i.n(c),d=i("ed08"),h={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(d["b"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};i("817d");var v={mixins:[h],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{show:!0},series:[{type:"pie",data:[{value:320,name:"正常状态"},{value:40,name:"异常状态"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},u=v,p=i("2877"),m=Object(p["a"])(u,o,r,!1,null,null,null),f=m.exports,g=(i("bc3a"),{components:{PieChart:f},data:function(){return{fmt:a["a"],client:null,x:null,y:null,map:null,deviceId:null,config:{header:["ID","传感器种类","监测数据"],data:[["1","水温","17.9"],["2","电导率","8.75"],["3","PH","8.69"],["4","浊度","9.4"],["5","溶解氧","295"],["6","水温","17.9"],["7","电导率","8.75"],["8","PH","8.69"],["9","浊度","9.4"],["10","溶解氧","295"]]}}},mounted:function(){var t=this;this.initMap(),[[114.431408,30.523486],[114.431408,30.524486],[114.433408,30.525486]].forEach((function(e){t.icon(e[0],e[1])}))},methods:{initMap:function(){this.x||this.y||(this.x=114.431408,this.y=30.523486);var t=new AMap.Map("container",{zoom:13,viewMode:"3D",center:[this.x,this.y],mapStyle:"amap://styles/001a637581603985681831e1471630a5"});this.map=t},icon:function(t,e){var i=new AMap.Icon({size:new AMap.Size(40,50),image:"https://www.xxlun.com/website/file/sensor.png",imageSize:new AMap.Size(40,50)}),n=new AMap.Marker({position:new AMap.LngLat(t,e),offset:new AMap.Pixel(-20,-20),icon:i,title:"摄像头",zoom:13});n.on("click",this.iconClick),this.map.add(n)},iconClick:function(t){console.log(t.lnglat.lng,t.lnglat.lat);var e="检测站".concat(t.lnglat.lng,",").concat(t.lnglat.lat),i=[];i.push("<img src='http://tpc.googlesyndication.com/simgad/5843493769827749134'>地址：北京市朝阳区阜通东大街6号院3号楼东北8.3公里"),i.push("电话：010-64733333"),i.push("<a href='https://ditu.amap.com/detail/B000A8URXB?citycode=110105'>详细信息</a>");var n=new AMap.InfoWindow({anchor:"bottom-left",isCustom:!0,content:this.createInfoWindow(e,i.join("<br/>"))});n.open(this.map,["".concat(t.lnglat.lng),"".concat(t.lnglat.lat)])},createInfoWindow:function(t,e){var i=document.createElement("div");i.style.color="#fff",i.style.width="400px",i.style.position="relative";var n=document.createElement("div"),s=document.createElement("div"),a=document.createElement("img");a.style.position="absolute",a.style.right="0",a.style.top="0",a.style.cursor="pointer",a.src="https://webapi.amap.com/images/close2.gif",a.onclick=this.closeInfoWindow,n.style.backgroundColor="#245098",s.innerHTML=t,n.appendChild(a),n.appendChild(s),i.appendChild(n);var o=document.createElement("div");o.style.backgroundColor="#245098",o.innerHTML=e,i.appendChild(o);var r=document.createElement("div");return i.appendChild(r),i},closeInfoWindow:function(){this.map.clearInfoWindow()},direction:function(t){"lookup"==t&&console.log(t)},goOperation:function(){this.$router.push({path:"/ship/operation/".concat(this.deviceId)})},goIndex:function(){this.$router.push({path:"/equipment/ship/list"})}}}),b=g,w=(i("07f4"),Object(p["a"])(b,n,s,!1,null,"120bf560",null));e["default"]=w.exports},c466:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("6b54"),i("3b2b"),i("a481");function n(t){var e="yyyy-MM-dd hh:mm:ss",i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,t.getFullYear())),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==i[n].toString().length?"0"+i[n]:i[n]));return e}},ff08:function(t,e,i){}}]);