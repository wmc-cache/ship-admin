(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc2684c4","chunk-2d22ccc0"],{"5d51":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c}));var l=n("b775");function o(e,t){return Object(l["a"])({url:"/admin/xxl/role/".concat(e,"/").concat(t),method:"get"})}function i(e){return Object(l["a"])({url:"/admin/xxl/role/save",method:"post",data:e})}function r(e){return Object(l["a"])({url:"/admin/xxl/role/remove/".concat(e),method:"delete"})}function a(e){return Object(l["a"])({url:"/admin/xxl/permission/toAssign/".concat(e),method:"get"})}function c(e,t,n){return Object(l["a"])({url:"/admin/xxl/permission/doAssign",method:"post",params:{permissionId:e,roleId:t,id:n}})}},9808:function(e,t,n){"use strict";n.r(t);var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-dialog",{attrs:{title:"角色权限编辑",visible:e.dialogVisible2,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible2=t}}},[n("node"),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible2=!1}}},[e._v("取 消")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"新增角色",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{staticStyle:{"margin-top":"10px"},attrs:{clearable:"",placeholder:"角色名称"},model:{value:e.rolename,callback:function(t){e.rolename=t},expression:"rolename"}}),e._v(" "),n("el-input",{staticStyle:{"margin-top":"20px"},attrs:{clearable:"",placeholder:"角色描述"},model:{value:e.rolecontent,callback:function(t){e.rolecontent=t},expression:"rolecontent"}}),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.sure}},[e._v("确 定")])],1)],1),e._v(" "),n("div",[n("div",{staticClass:"filter-container"},[n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.add}},[e._v("新增角色")])],1),e._v(" "),n("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.roleList,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"id",prop:"id",align:"center",width:"200"}}),e._v(" "),n("el-table-column",{attrs:{label:"角色名",prop:"roleName",align:"center",width:"200"}}),e._v(" "),n("el-table-column",{attrs:{label:"角色描述",prop:"remark",align:"center",width:"200"}}),e._v(" "),n("el-table-column",{attrs:{label:"gmtCreate",prop:"gmtCreate",align:"center",width:"200"}}),e._v(" "),n("el-table-column",{attrs:{label:"gmtModified",prop:"gmtModified",align:"center",width:"200"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[n("el-button",{staticStyle:{cursor:"pointer"},attrs:{type:"text",icon:"el-icon-view"},on:{click:function(t){return e.deleteRole(l.id)}}},[e._v("删除角色\n\t\t\t\t\t")]),e._v(" "),n("el-button",{staticStyle:{cursor:"pointer"},attrs:{type:"text",icon:"el-icon-view"},on:{click:function(t){return e.RoleDetail(l.id,l.roleName)}}},[e._v("角色权限管理\n\t\t\t\t\t")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.treeRoles}},[e._v("\n\t\t\t\t\t\ttree\n\t\t\t\t\t")])]}}])})],1)],1)],1)},o=[],i=(n("96cf"),n("3b8d")),r=n("5d51"),a=n("f583"),c={components:{node:a["default"]},data:function(){return{roleList:null,tableKey:0,dialogVisible:null,dialogVisible2:null,rolename:null,rolecontent:null}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["c"])(0,5);case 2:t=e.sent,this.roleList=t.data.items,console.log("role",this.roleList);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{add:function(){this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},deleteRole:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["b"])(t);case 2:location.reload();case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),sure:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])({roleName:this.rolename,remark:this.rolecontent});case 2:location.reload();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),RoleDetail:function(e,t){this.$router.push({path:"/roles/detail/".concat(e,"/").concat(t)})},treeRoles:function(){this.dialogVisible2=!0}}},s=c,d=n("2877"),u=Object(d["a"])(s,l,o,!1,null,null,null);t["default"]=u.exports},f583:function(e,t,n){"use strict";n.r(t);var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tree",{ref:"tree",attrs:{data:e.data,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:e.defaultProps}}),e._v(" "),n("div",{staticClass:"buttons"},[n("el-button",{on:{click:e.getCheckedNodes}},[e._v("通过 node 获取")]),e._v(" "),n("el-button",{on:{click:e.getCheckedKeys}},[e._v("通过 key 获取")]),e._v(" "),n("el-button",{on:{click:e.setCheckedNodes}},[e._v("通过 node 设置")]),e._v(" "),n("el-button",{on:{click:e.setCheckedKeys}},[e._v("通过 key 设置")]),e._v(" "),n("el-button",{on:{click:e.resetChecked}},[e._v("清空")])],1)],1)},o=[],i={mounted:function(){console.log(this.$store.state.permission.permissionMenuList)},methods:{getCheckedNodes:function(){console.log(this.$refs.tree.getCheckedNodes())},getCheckedKeys:function(){console.log(this.$refs.tree.getCheckedKeys())},setCheckedNodes:function(){this.$refs.tree.setCheckedNodes([{id:5,label:"二级 2-1"},{id:9,label:"三级 1-1-1"}])},setCheckedKeys:function(){this.$refs.tree.setCheckedKeys([3])},resetChecked:function(){this.$refs.tree.setCheckedKeys([])}},data:function(){return{data:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}],defaultProps:{children:"children",label:"label"}}}},r=i,a=n("2877"),c=Object(a["a"])(r,l,o,!1,null,null,null);t["default"]=c.exports}}]);